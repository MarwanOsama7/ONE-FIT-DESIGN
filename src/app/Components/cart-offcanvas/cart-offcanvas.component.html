<div class="offcanvas offcanvas-end wide-offcanvas" tabindex="-1" id="offcanvasRight"
    aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
        <h5 id="offcanvasRightLabel">My Cart</h5>
        <a type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></a>
    </div>
    <div class="offcanvas-body">
        <!-- Cart Items -->
        <div *ngFor="let temp of orders" class="cart-item mb-3">
            <div class="d-flex align-items-center">
                <!-- Product Image -->
                <div class="cart-item-image">
                    <img class="img-fluid rounded" [src]="temp.img" alt="Product Image"
                        style="width: 60px; height: 60px;">
                </div>
                <!-- Product Details -->
                <div class="cart-item-details ms-3">
                    <p class="mb-1"><strong>{{temp.name}}</strong></p>
                    <p class="mb-1 text-muted" style="font-size: 0.85rem;">Color: {{temp.color}} | Size: {{temp.size}}</p>
                    <p class="mb-1 text-muted" style="font-size: 0.85rem;">EGP {{temp.priceAfterdiscount}}</p>
                </div>
                <!-- Quantity Selector -->
                <div class="cart-item-quantity ms-auto">
                    <div class="d-flex align-items-center">
                        <a class="btn btn-outline-secondary btn-sm p-1" (click)="decreaseQuantity(temp)">-</a>
                        <input class="form-control mx-1 p-1 text-center" [(ngModel)]="temp.quantity"
                            (ngModelChange)="onQuantityChange(temp)" type="number" min="1"
                            style="width: 40px; font-size: 0.85rem;">
                        <a class="btn btn-outline-secondary btn-sm p-1" (click)="increaseQuantity(temp)">+</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Empty Cart Message -->
        <div *ngIf="orders.length == 0" class="alert alert-danger text-center mt-3" role="alert">
            Your cart is currently empty.
        </div>

        <!-- Cart Summary (Only show when there are orders) -->
        <div *ngIf="orders.length > 0" class="mt-4">
            <div class="d-flex justify-content-between">
                <p>Subtotal :</p>
                <p>{{totalPrice | currency : 'EGP'}}</p>
            </div>
            <div class="d-flex justify-content-between">
                <p>Tax :</p>
                <p>Tax included</p>
            </div>
            <div class="d-flex justify-content-between">
                <p>Shipping :</p>
                <p>Calculated at checkout</p>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
                <p><strong>Total :</strong></p>
                <p><strong>{{totalPrice | currency : 'EGP'}}</strong></p>
            </div>
            <div class="mt-3">
                <a (click)="viewCart()" style="background-color: rgb(223, 41, 41);color: white;" class="btn btn-lg w-100">View Cart</a>
            </div>
            <div class="mt-3">
                <a (click)="onCheckout()" class="btn btn-dark btn-lg w-100">Check Out</a>
            </div>
        </div>
    </div>
</div>
